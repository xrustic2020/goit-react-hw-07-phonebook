(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{111:function(t,e,n){"use strict";n.r(e);var c=n(0),r=n.n(c),a=n(15),o=n.n(a),s=(n(68),n(13)),i=n(14),u=n(28),l=n.n(u),d=n(6),b={getRequest:Object(d.b)("contacts/getRequest"),getSuccess:Object(d.b)("contacts/getSucess"),getError:Object(d.b)("contacts/getError"),addedRequest:Object(d.b)("contacts/addedRequest"),addedSuccess:Object(d.b)("contacts/addedSucess"),addedError:Object(d.b)("contacts/addedError"),deleteRequest:Object(d.b)("contacts/deleteRequest"),deleteSuccess:Object(d.b)("contacts/deleteSucess"),deleteError:Object(d.b)("contacts/deleteError"),setFilter:Object(d.b)("filter/set"),resetFilter:Object(d.b)("filter/reset")},j=b.getRequest,f=b.getSuccess,O=b.getError,m=b.addedRequest,h=b.addedSuccess,x=b.addedError,p=b.deleteRequest,v=b.deleteSuccess,_=b.deleteError;l.a.defaults.baseURL="http://localhost:4444";var g,C,F,y={getContacts:function(){return function(t){t(j()),l.a.get("/contacts").then((function(e){var n=e.data;t(f(n))})).catch((function(e){return t(O(e))}))}},addedContact:function(t){return function(e){e(m()),l.a.post("/contacts",t).then((function(t){var n=t.data;e(h(n)),i.b.success('Contact "'.concat(n.name,'" with number "').concat(n.number,'" has been successfully created'))})).catch((function(t){return e(x(t))}))}},deleteContact:function(t){var e=t.id,n=t.name;return function(t){t(p()),l.a.delete("/contacts/".concat(e)).then((function(){t(v(e)),i.b.success('Contact "'.concat(n,'" successfully deleted'))})).catch((function(e){return t(_(e))}))}}},N=n(30),S=function(t){return t.contacts.filter},R=function(t){return t.contacts.loading},E=Object(N.a)([function(t){return t.contacts.items},S],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),q=n(42),w=n(51),k=n.n(w),I=n(126),D=n(29),L=n.n(D),A=(n(90),n(8)),J=n(41),B=n(18),T=b.getRequest,U=b.getSuccess,X=b.getError,z=b.addedRequest,H=b.addedSuccess,K=b.addedError,M=b.deleteRequest,P=b.deleteSuccess,Q=b.deleteError,Z=b.setFilter,G=b.resetFilter,V=Object(d.c)([],(g={},Object(A.a)(g,U,(function(t,e){return e.payload})),Object(A.a)(g,H,(function(t,e){var n=e.payload;return[].concat(Object(J.a)(t),[n])})),Object(A.a)(g,P,(function(t,e){var n=e.payload;return Object(J.a)(t.filter((function(t){return t.id!==n})))})),g)),W=Object(d.c)("",(C={},Object(A.a)(C,Z,(function(t,e){return e.payload})),Object(A.a)(C,G,(function(t,e){return e.payload})),C)),Y=Object(d.c)(!1,(F={},Object(A.a)(F,T,(function(){return!0})),Object(A.a)(F,U,(function(){return!1})),Object(A.a)(F,X,(function(){return!1})),Object(A.a)(F,z,(function(){return!0})),Object(A.a)(F,H,(function(){return!1})),Object(A.a)(F,K,(function(){return!1})),Object(A.a)(F,M,(function(){return!0})),Object(A.a)(F,P,(function(){return!1})),Object(A.a)(F,Q,(function(){return!1})),F)),$=Object(B.b)({items:V,filter:W,loading:Y}),tt=Object(d.a)({reducer:{contacts:$},devTools:!1});var et=n(2),nt=function(t){var e=t.onAddedContact,n=t.setFilter,r=Object(c.useState)(""),a=Object(q.a)(r,2),o=a[0],s=a[1],u=Object(c.useState)(""),l=Object(q.a)(u,2),d=l[0],b=l[1],j=function(t){t.preventDefault();var c=function(t,e,n){if(t){if(e)return tt.getState().contacts.items.find((function(e){return e.name===t}))?(i.b.warn('"'.concat(t,'" is already in contacts')),void n(t)):{name:t,number:e};i.b.error('the "Number" field must contain the contact number')}else i.b.error('the "Name" field must contain the name of the contact')}(o,d,n);s(""),b(""),c&&e(c)};return Object(et.jsxs)("form",{onSubmit:function(t){return j(t)},className:L.a.form,children:[Object(et.jsxs)("div",{className:L.a.overlay,children:[Object(et.jsxs)("label",{children:[Object(et.jsx)("span",{children:"Name"}),Object(et.jsx)("input",{type:"text",name:"name",className:L.a.input,value:o,onChange:function(t){return s(t.target.value)}})]}),Object(et.jsxs)("label",{children:[Object(et.jsx)("span",{children:"Number"}),Object(et.jsx)("input",{type:"number",name:"number",className:L.a.input,value:d,onChange:function(t){return b(t.target.value)}})]})]}),Object(et.jsx)(I.a,{type:"submit",variant:"contained",color:"primary",size:"small",startIcon:Object(et.jsx)(k.a,{}),children:"Add contact"})]})},ct=Object(s.b)(null,(function(t){return{onAddedContact:function(e){return t(y.addedContact(e))},setFilter:function(e){return t(b.setFilter(e))}}}))(nt),rt=n(127),at=n(52),ot=n.n(at),st=n(34),it=n.n(st),ut=function(t){var e=t.filter,n=t.setFilter,c=t.onReset;return Object(et.jsxs)("div",{className:it.a.filter,children:[Object(et.jsxs)("label",{children:[Object(et.jsx)("span",{className:it.a.label,children:"Filter"}),Object(et.jsx)("input",{type:"text",name:"filter",className:it.a.input,value:e,onChange:function(t){return n(t.target.value)}})]}),Object(et.jsx)(rt.a,{"aria-label":"delete",onClick:function(){c(),i.b.success("Filter cleaned successfully")},children:e&&Object(et.jsx)(ot.a,{})})]})},lt=Object(s.b)((function(t){return{filter:S(t)}}),(function(t){return{setFilter:function(e){return t(b.setFilter(e))},onReset:function(){return t(b.resetFilter(""))}}}))(ut),dt=n(53),bt=n.n(dt),jt=n(40),ft=n.n(jt),Ot=function(t){var e=t.contact,n=t.onDeleteContact,c=e.name,r=e.number;return Object(et.jsxs)("li",{className:ft.a.listItem,children:[Object(et.jsxs)("div",{className:ft.a.fullName,children:[Object(et.jsxs)("span",{children:[c,": "]}),Object(et.jsx)("span",{children:r})]}),Object(et.jsx)(rt.a,{"aria-label":"Delete",onClick:function(){return n(e)},children:Object(et.jsx)(bt.a,{})})]})},mt=Object(s.b)(null,(function(t){return{onDeleteContact:function(e){return t(y.deleteContact(e))}}}))(Ot),ht=n(54),xt=n.n(ht),pt=function(t){var e=t.contacts;return Object(et.jsx)("ul",{className:xt.a.container,children:e.map((function(t){return Object(et.jsx)(mt,{contact:t},t.id)}))})},vt=Object(s.b)((function(t){return{contacts:E(t)}}))(pt),_t=n(55),gt=n.n(_t);function Ct(t){var e=t.children;return Object(et.jsx)("div",{className:gt.a.container,children:e})}var Ft=n(56),yt=n.n(Ft);function Nt(t){var e=t.title,n=t.children;return Object(et.jsxs)("section",{children:[Object(et.jsx)("h2",{className:yt.a.title,children:e}),n]})}var St=n(57),Rt=n.n(St),Et=n(58),qt=n.n(Et),wt=function(){return Object(et.jsx)("div",{className:qt.a.container,children:Object(et.jsx)(Rt.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})})},kt=Object(s.b)((function(t){return{loading:R(t)}}),(function(t){return{getContacts:function(){return t(y.getContacts())}}}))((function(t){var e=t.loading,n=t.getContacts;return Object(c.useEffect)((function(){n()}),[]),Object(et.jsxs)(Ct,{children:[e&&Object(et.jsx)(wt,{}),Object(et.jsx)(Nt,{title:"Phonebook",children:Object(et.jsx)(ct,{})}),Object(et.jsx)(Nt,{title:"Contacts",children:Object(et.jsxs)("div",{children:[Object(et.jsx)(lt,{}),Object(et.jsx)(vt,{})]})}),Object(et.jsx)(i.a,{})]})}));o.a.render(Object(et.jsx)(r.a.StrictMode,{children:Object(et.jsx)(s.a,{store:tt,children:Object(et.jsx)(kt,{})})}),document.getElementById("root"))},29:function(t,e,n){t.exports={form:"ContactForm_form__c-6D6",input:"ContactForm_input__1ie9w",overlay:"ContactForm_overlay__2rhH3"}},34:function(t,e,n){t.exports={filter:"Filter_filter__3IgpU",label:"Filter_label__1bmi8",input:"Filter_input__2rkXO"}},40:function(t,e,n){t.exports={listItem:"ContactItem_listItem__12Zyd",fullName:"ContactItem_fullName__3CXti"}},54:function(t,e,n){t.exports={container:"ContactList_container__s2rcm"}},55:function(t,e,n){t.exports={container:"Container_container__2t4d-"}},56:function(t,e,n){t.exports={title:"Section_title__36Qla"}},58:function(t,e,n){t.exports={container:"Loader_container__3JKgj"}},68:function(t,e,n){}},[[111,1,2]]]);
//# sourceMappingURL=main.2491ecf3.chunk.js.map